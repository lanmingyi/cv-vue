<!DOCTYPE html>
<html class="no-js">

	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<title>大屏报表</title>
		<meta name="description" content="" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />

		<link rel="icon" href="./logo.png" type="image/x-icon" />

		<link rel="stylesheet" href="./report/plugin/element-ui/index.css">
		<link rel="stylesheet" href="./report/plugin/animate/animate.css" type="text/css">
		<link rel="stylesheet" href="./report/public/css/style.css" type="text/css" />
		<link rel="stylesheet" href="./report/plugin/lib/index.css" type="text/css" />
		<link rel="stylesheet" href="./report/public/css/common.css" type="text/css" />
		<link rel="stylesheet" href="./report/public/css/iconfont.css" type="text/css" />
		<link rel="stylesheet" href="./report/public/font/iconfont.css" type="text/css" />
		<link rel="stylesheet" href="./report/plugin/swiper/swiper.min.css" type="text/css" />


		<script src="./report/public/js/api/axios.min.js"></script>
		<script src="./report/plugin/lib/vue.min.js"></script>
		<script src="./report/public/js/common.js?version=1.0"></script>
		<script src="./report/plugin/element-ui/index.js"></script>

		<script src="./report/plugin/lib/components.js"></script>
		<script src="./report/plugin/swiper/swiper.min.js"></script>
		<script src="./report/plugin/lib/jquery.min.js"></script>
		<script src="./report/plugin/lib/jquery.mousewheel.min.js"></script>

		<script src="./report/echarts/echarts.min.js"></script>
		<script src="./report/echarts/echarts-wordcloud.min.js"></script>

		<script src="./report/public/js/theme/xvue.project.js"></script>
		<script src="./report/public/js/theme/halloween.project.js"></script>
		<script src="./report/public/js/theme/wonderland.project.js"></script>
		<script src="./report/public/js/sortable/Sortable.min.js"></script>
		<script src="./report/public/js/sortable/vuedraggable.umd.min.js"></script>
		<script src="./report/public/js/map/baseMap.js"></script>
		<script src="./report/public/js/local/colorOption.js"></script>
		<script src="./report/public/js/local/imgOption.js"></script>
		<script src="./report/public/js/local/baseOption.js"></script>
		<script src="./report/public/js/design.js"></script>
		<!--图表初始化数据-->
		<script src="./report/public/js/local/localData.js"></script>
		<!--地图 -->
		<script src="./report/public/js/map/chinaMap.js"></script>
		<script src="./report/public/js/local/baseList.js"></script>
		<script src="./report/plugin/lib/utils.js"></script>
		<script src="./report/plugin/lib/xvue.min.js"></script>
		<!--注册地图-->
		<script src="./report/public/js/map/register.js"></script>
		<!--通用地图组件-->
		<script src="./report/public/js/map/proMap.js"></script>
		<!--派件地图组件-->
		<script src="./report/public/js/map/virtualmap.js"></script>
		<!--全国物流组件-->
		<script src="./report/public/js/map/coolrdMap.js"></script>
		<!--出差地图-->
		<script src="./report/public/js/map/pointmap.js"></script>
		<script src="./report/public/js/map/point.js"></script>
		<!--城市派件地图数据初始化js-->
		<script src="./report/public/js/map/initialization.js"></script>
		<!--全国物流地图数据初始化js-->
		<script src="./report/public/js/map/geoCoordMap.js"></script>
		<script src="./report/public/js/map/baseVirtualmap.js"></script>
		<script src="./report/public/js/fullscreen.js"></script>
		<style scoped>
			.chart-trend {
				display: inline-block;
				font-size: 20px;
				line-height: 22px;
				text-align: center;
			}

			.chart-trend .trend-icon {
				font-size: 12px;
			}

			.chart-trend .trend-icon.up,
			.chart-trend .trend-icon.down {
				margin-left: 4px;
				position: relative;
				top: 1px;
			}

			.chart-trend .trend-icon.up i,
			.chart-trend .trend-icon.down i {
				font-size: 12px;
				transform: scale(0.83);
			}

			.chart-trend .el-icon-caret-top {
				color: #f5222d;
			}

			.chart-trend .el-icon-caret-bottom {
				color: #52c41a;
				top: -1px;
			}
		</style>
	</head>

	<body>
		<div id="app">
			<!--    生成 json   -->
			<el-dialog title="复制代码" :visible.sync="dataVisible" center>
				<el-input type="textarea" v-model="listJson" :rows="30"></el-input>
			</el-dialog>
			<el-dialog title="图库" :visible.sync="imgVisible">
				<el-tabs class="tabs" stretch v-model="imgActive">
					<el-tab-pane :name="index+''" v-for="(item,index) in imgTabs" key="index">
						<el-tooltip slot="label" effect="dark" :content="item.title" placement="top">
							<div style="color: #fff"><i class="iconfont icon-peizhi"></i>{{item.title}}</div>
						</el-tooltip>
					</el-tab-pane>
				</el-tabs>
				<el-scrollbar class="imgList">
					<img :src="item.value" @click="handleSetimg(item.value)"
						v-for="(item,index) in imgOption[imgActive]" :key="index" />
				</el-scrollbar>
			</el-dialog>
			<div class="keyboardDel" @keydown.delete="handleKeyboardDel(e,active,zIndex)"></div>
			<!--新增键盘事件-->
			<div class="keyboardArrow" @keyup="handleKeyboardEvent(e)"></div>
			<div class="contentmenu" v-show="contentMenu" :style="styleContentmenu" @click="contentMenu=false">
				<div class="contentmenu__item" @click="handleCopy(active,zIndex)"><i class="el-icon-document"></i>复制图层
				</div>
				<div class="contentmenu__item" @click="handleTop(active,zIndex)"><i class="el-icon-arrow-up"></i>置顶图层
				</div>
				<div class="contentmenu__item" @click="handleBottom(active,zIndex)"><i
						class="el-icon-arrow-down"></i>置底图层
				</div>
				<div class="contentmenu__item" @click="handleStepTop(active,zIndex)"><i
						class="el-icon-arrow-up"></i>上移一层
				</div>
				<div class="contentmenu__item" @click="handleStepBottom(active,zIndex)"><i
						class="el-icon-arrow-down"></i>下移一层
				</div>
				<div class="contentmenu__item" @click="handleDel(active,zIndex)"><i class="el-icon-close"></i>删除图层
				</div>
			</div>
			<!--    全局页面配置    -->
			<el-collapse-transition>
				<el-dialog title="页面配置" :visible.sync="pageDesign" center>
					<el-form ref="saveForm" :model="config" :rules="rules" label-width="120px" label-position="left"
						size="small">
						<template>
							<el-form-item label="大屏名称" prop="name">
								<xvue-input v-model="config.name"></xvue-input>
							</el-form-item>
							<el-form-item label="大屏简介">
								<xvue-input v-model="config.info" type="textarea" :min-rows="5"></xvue-input>
							</el-form-item>
							<el-form-item label="大屏宽度">
								<xvue-input-number v-model="config.width"></xvue-input-number>
							</el-form-item>
							<el-form-item label="大屏高度">
								<xvue-input-number v-model="config.height"></xvue-input-number>
							</el-form-item>
							<el-form-item label="背景颜色">
								<xvue-color v-model="config.backgroundColor"></xvue-color>
							</el-form-item>
							<el-form-item label="缩略图">
								<el-upload v-model="config.thumbnail" :action="baseUrl" :headers="uploadHeader"
									:limit="1" :on-progress="uploadProgress" :on-success="uploadSuccess"
									:before-remove="removeFile" list-type="picture" :file-list="fileList">
									<el-button size="small" type="primary">点击上传</el-button>
								</el-upload>
							</el-form-item>
							<el-form-item label="背景图">
								<img :src="imgPath" alt="" width="70%" />
							</el-form-item>
							<el-form-item label="背景图片">
								<el-input v-model="config.backgroundImage">
									<div @click="handleOpenImg('config.backgroundImage')" slot="append">
										<i class="iconfont icon-img"></i>
									</div>
								</el-input>
								<el-upload :action="baseUrl" :headers="uploadHeader" :limit="1"
									:on-progress="uploadProgress" :on-success="uploadBackgroundImageSuccess"
									:before-remove="removeBackgroundImage" :file-list="backgroundList">
									<el-button size="small" type="primary">点击上传</el-button>
								</el-upload>
							</el-form-item>
							<el-form-item label="缩放">
								<el-slider v-model="config.scale" :max="200" :format-tooltip="formatTooltip">
								</el-slider>
							</el-form-item>
							<el-form-item label="环境地址">
								<xvue-input type="textarea" :min-rows="5" v-model="config.url"></xvue-input>
							</el-form-item>
							<el-form-item label="参数">
								<xvue-input type="textarea" :min-rows="5" v-model="queryData"></xvue-input>
							</el-form-item>
							<template v-if="config.mark.show">
								<el-form-item label="内容">
									<xvue-input v-model="config.mark.text"></xvue-input>
								</el-form-item>
								<el-form-item label="大小">
									<xvue-input-number v-model="config.mark.fontSize"></xvue-input-number>
								</el-form-item>
								<el-form-item label="颜色">
									<xvue-color v-model="config.mark.textStyle"></xvue-color>
								</el-form-item>
								<el-form-item label="角度">
									<xvue-input-number v-model="config.mark.degree"></xvue-input-number>
								</el-form-item>
							</template>
						</template>
					</el-form>
				</el-dialog>
				<!--            <div v-show="pageDesign">-->
				<!--                -->
				<!--            </div>-->
			</el-collapse-transition>
			<!--        //顶部导航-->
			<div class="head-nav">
				<el-menu class="nav" mode="horizontal" background-color="rgba(225,225,225,0)" text-color="#c2cee5"
					active-text-color="#fff" @mousedown="handleMouseDown">
					<!-- <el-menu-item index="1">
						<el-tooltip effect="dark" content="新建模板" placement="top">
							<i class="el-icon-circle-plus-outline"></i>
						</el-tooltip>
						<a href="list.html">新建模板</a>
					</el-menu-item> -->
					<el-menu-item index="6" @click="handleReset" v-show="!menuFlag">
						<el-tooltip effect="dark" content="还原" placement="top">
							<i class="nav__icon iconfont icon-reset"></i>
						</el-tooltip>
						还原
					</el-menu-item>
					<el-menu-item index="7" @click="handleView" v-show="menuFlag">
						<el-tooltip effect="dark" content="预览" placement="top">
							<i class="nav__icon iconfont icon-yulan"></i>
						</el-tooltip>
						预览
					</el-menu-item>
					<el-menu-item index="8" @click="handleBuild">
						<el-tooltip effect="dark" content="生成" placement="top">
							<i class="nav__icon iconfont icon-shengcheng"></i>
						</el-tooltip>
						生成
					</el-menu-item>
					<el-menu-item index="9" @click="handleSave">
						<el-tooltip effect="dark" content="保存" placement="top">
							<i class="nav__icon iconfont icon-166991"></i>
						</el-tooltip>
						{{sortType}}
					</el-menu-item>
					<el-menu-item index="10" @click="handleBack" v-if="showCloseBtn">
						<el-tooltip effect="dark" content="关闭" placement="top">
							<i class="nav__icon iconfont icon-guanbi" style="font-size:17px"></i>
						</el-tooltip>
						关闭
					</el-menu-item>
				</el-menu>
				<el-menu class="nav resource" mode="horizontal" background-color="rgba(225,225,225,0)"
					text-color="#c2cee5" active-text-color="#fff" @mousedown="handleMouseDown">
					<!--            <el-menu-item index="11" @click="handleViewPage">-->
					<!--                <el-tooltip effect="dark" content="页面配置" placement="top">-->
					<!--                    <i class="nav__icon el-icon-tickets"></i>-->
					<!--                </el-tooltip>-->
					<!--                页面配置-->
					<!--            </el-menu-item>-->
					<el-menu-item index="12" @click="handleViewAttr">
						<el-tooltip effect="dark" content="属性配置" placement="top">
							<i class="nav__icon icon-font icon-jieshao"></i>
						</el-tooltip>
						属性配置
					</el-menu-item>
					<el-menu-item index="13" @click="handleTree">
						<el-tooltip effect="dark" content="组件图层" placement="top">
							<i class="nav__icon  icon-font icon-zujian"></i>
						</el-tooltip>
						组件图层
					</el-menu-item>
					<el-menu-item index="14" @click="handleBuild">
						<el-tooltip effect="dark" content="数据配置" placement="top">
							<i class="nav__icon  icon-font icon-shuju"></i>
						</el-tooltip>
						数据配置
					</el-menu-item>
				</el-menu>
			</div>
			<div class="app" :class="{'app--none':!menuFlag}">
				<div class="menu">
					<el-collapse-transition>
						<el-menu default-active="1-4-1" class="el-menu-vertical-demo menu"
							:style="{width:isCollapse?'64px':'200px'}" @open="handleOpen" @close="handleClose"
							:collapse="isCollapse" background-color="rgba(225,225,225,0)" text-color="#fff">
							<el-submenu :index="index+''" v-for="(item,index) in baseList" :key="index">
								<template slot="title">
									<el-tooltip effect="dark" :content="item.label" placement="top">
										<i :class="'nav__icon iconfont '+item.icon"></i>
									</el-tooltip>
									<span>{{item.label}}</span>
								</template>
								<el-menu-item-group>
									<el-menu-item :key="cindex" :index="index+'-'+cindex"
										v-for="(citem,cindex) in item.charData">
										<el-tooltip placement="right-end" effect="dark" offset="200">
											<div slot="content">
												<el-row class="tip-content">
													<el-col :span="24">
														<el-card :body-style="{ padding: '0px' }"
															v-for="(oitme, index) in citem.listImg" :key="index"
															style="margin-top: 8px;cursor: pointer">
															<img :src="oitme.img" class="image"
																@click="addCompoment(oitme.option)">
															<div style="padding: 8px 14px;text-align: center;">
																<div class="bottom clearfix">{{oitme.text}}</div>
															</div>
														</el-card>
													</el-col>
												</el-row>
											</div>
											<div>
												<i :class="'nav__icon iconfont '+ citem.icon"></i>
												<span>{{citem.label}}</span>
											</div>
										</el-tooltip>
									</el-menu-item>
								</el-menu-item-group>
							</el-submenu>
						</el-menu>
					</el-collapse-transition>
				</div>
				<div class="menu-control" @click="isCollapse = !isCollapse">
					<i v-if="isCollapse" class="el-icon-d-arrow-right"></i>
					<i v-else class="el-icon-d-arrow-left"></i>
					<!--                <el-radio-group v-model="isCollapse" style="margin-bottom: 20px;">-->
					<!--                    <el-radio-button :label="false" v-if="isCollapse">-->
					<!--                        <i style="display: block;width: 40px;height: 40px" :class="isCollapse?'el-icon-caret-left':'el-icon-caret-right'"></i>-->
					<!--                    </el-radio-button>-->
					<!--                    <el-radio-button :label="true">-->
					<!--                        <i style="display: block;width: 40px;height: 40px" :class="isCollapse?'el-icon-caret-left':'el-icon-caret-left'"></i>-->
					<!--                    </el-radio-button>-->
					<!--                </el-radio-group>-->
				</div>
				<div class="middle">
					<div class="wrapper__grade" @mousedown="handleMouseDown"></div>
					<div class="wrapper " id="content" @mousedown="handleMouseDown">
						<div class="content layout-Content" ref="content" @mousedown.slef="handleSelectMouseDown"
							@mousemove="handleSelectMouseMove" @mouseup.slef="handleSelectMouseUp">
							<div class="selectall" :style="selectStyle" v-show="selectObj.show" ref="selectall"></div>
							<div class="selectbg" v-show="selectObj.show"></div>
							<div class="selectflag" ref="selectflag" v-show="selectObj.flag"
								@mousedown.stop="handleMoveMouseDown" @mousemove="handleMoveMouseMove"
								@mouseup.stop="handleMoveMouseUp">
							</div>
							<div class="container" :style="styleName" ref="container"
								@contextmenu.prevent="handleContextMenu" @mousedown="handleMouseDown">
								<div class="grade" v-if="gradeFlag || config.gradeShow" :style="gradeLenStyle"></div>
								<xvue-draggable v-for="(item,index) in list" :scale="stepScale" :disabled="!menuFlag"
									:ref="'item_'+index" :id="'item_'+index" :step="stepScale" @focus="handleFocus"
									@postion="handlePostion" :resize="item.resize" @resize="handleResize"
									v-show="!item.destruction && !item.display" @blur="handleBlur"
									@change="handleChange" :index="index" :z-index="item.zIndex"
									:width="item.component.width" :height="item.component.height" :key="index"
									:top="item.top" :left="item.left" :highline="highline">
									<xvue-echart-slide v-if="item.component.prop==='slide'"
										:option="item.component.option" :width="item.width" :height="item.height">
										<div class="swiper-slide" v-for="(citem,cindex) in item.child.index"
											:key="citem">
											<component :scale="stepScale" :width="item.component.width"
												:height="item.component.height" :ref="'list_'+index"
												:disabled="!menuFlag" :id="'component_'+index" :animation="!menuFlag"
												:is="'xvue-echart-'+list[citem].component.name"
												:component="list[citem].component" :data="list[citem].data"
												:option="list[citem].component.option"
												:theme="list[citem].component.option.theme" :url="list[citem].url"
												:child="list[citem].child" :time="list[citem].time"
												:home-url="config.url" :data-method="list[citem].dataMethod"
												:data-type="list[citem].dataType"
												:data-query="handleGetQuery(list[citem])" :click="handleConClick"
												:formatter="list[citem].formatter"
												:click-formatter="list[citem].clickFormatter"
												:label-formatter="list[citem].labelFormatter"
												:data-formatter="list[citem].dataFormatter"
												:title-formatter="list[citem].titleFormatter">
											</component>
										</div>
									</xvue-echart-slide>
									<component v-else :ref="'list_'+index" :disabled="!menuFlag"
										:id="'component_'+index" :scale="stepScale" :width="item.component.width"
										:height="item.component.height" :animation="!menuFlag"
										:is="'xvue-echart-'+item.component.name" :component="item.component"
										:data="item.data" :option="item.component.option"
										:theme="item.component.option.theme" :url="item.url" :child="item.child"
										:time="item.time" :home-url="config.url" :data-method="item.dataMethod"
										:data-type="item.dataType" :data-query="handleGetQuery(item)"
										:click="handleConClick" :formatter="item.formatter"
										:click-formatter="item.clickFormatter" :label-formatter="item.labelFormatter"
										:data-formatter="item.dataFormatter" :title-formatter="item.titleFormatter">
									</component>
								</xvue-draggable>
							</div>
						</div>

					</div>
				</div>
				<div class="menu tree-menu" v-show="treeFlag" @mousedown="handleMouseDown">
					<p class="title">组件图层</p>
					<draggable v-model="zIndexList">
						<div class="menu__item" v-show="!item.destruction" @contextmenu.prevent="handleContextMenu"
							:class="{'menu__item--active':item.index===active}" v-for="(item,index) in zIndexList"
							:key="index" @click="activeClick(item.index)" @mouseover="handleMouseOver(item.index)">
							<span class=" menu__icon">
								<i :class="'iconfont '+item.icon"></i>
							</span>
							<span>{{item.title}}</span>
						</div>
					</draggable>
				</div>
				<div class="menu params" v-show="configFlag">

					<p class="title">页面配置</p>
					<el-tabs class="tabs" stretch v-model="tabsActive">
						<el-tab-pane name="0">
							<el-tooltip slot="label" effect="dark" content="配置" placement="top">
								<div style="color: #fff"><i class="nav__icon el-icon-s-operation"></i>配置</div>
							</el-tooltip>
							<el-form ref="saveForm" :model="config" :rules="rules" label-width="120px"
								label-position="left" size="small">
								<!-- 组件配置 -->
								<template v-if="!vaildProp('',[undefined])">
									<el-form-item label="图层名称">
										<xvue-input v-model="activeObj.name"></xvue-input>
									</el-form-item>
									<el-form-item label="隐藏">
										<xvue-switch v-model="activeObj.display"></xvue-switch>
									</el-form-item>
									<template v-if="vaildProp('colorList')">
										<el-form-item label="系统配色">
											<xvue-switch v-model="activeOption.switchTheme"></xvue-switch>
										</el-form-item>
										<el-form-item label="配色选择" v-if="activeOption.switchTheme">
											<xvue-select v-model="activeOption.theme" :dic="dicOption.themeList">
											</xvue-select>
										</el-form-item>
									</template>
									<!-- Trend配置 -->
									<template v-if="activeComponent.prop==='trend'">
										<el-form label-width="120px" label-position="left" size="small">
											<el-form-item label="背景颜色">
												<xvue-color v-model="activeOption.backgroundColor"></xvue-color>
											</el-form-item>
										</el-form>
									</template>
									<!-- 迁徙地图配置 -->
									<template v-if="activeComponent.prop==='coolrd-map'">
										<el-form label-width="120px" label-position="left" size="small">
											<el-form-item label="扩散方向">
												<xvue-radio v-model="activeOption.geoCoordType"
													:dic="dicOption.geoCoordType"></xvue-radio>
											</el-form-item>
											<el-form-item label="目标城市">
												<el-select v-model="activeOption.coolrdProvince.value"
													@change="handlegeoCoordProvinceSelect" filterable
													placeholder="请选择目标城市">
													<el-option v-for="item in geoCoordMapOption" :key="item.value"
														:label="item.label" :value="item.value">
													</el-option>
												</el-select>
											</el-form-item>
										</el-form>
									</template>

									<!-- 派件地图配置 -->
									<template v-if="activeComponent.prop==='virual-map'">
										<el-form label-width="120px" label-position="left" size="small">
											<xvue-echart-province v-model="activeOption.selectProvince"
												:provincelist="dicOption.provinceList"></xvue-echart-province>
										</el-form>
									</template>

									<!-- 柱状图配置 -->
									<template v-if="activeComponent.prop==='bar'">
										<el-form-item label="竖展示">
											<xvue-switch type="textarea" v-model="activeOption.category"></xvue-switch>
										</el-form-item>
										<el-collapse accordion>
											<el-collapse-item title="柱体设置">
												<el-form-item label="最大宽度">
													<xvue-slider v-model="activeOption.barWidth" class="right-margin">
													</xvue-slider>
												</el-form-item>
												<el-form-item label="圆角">
													<xvue-slider v-model="activeOption.barRadius" class="right-margin">
													</xvue-slider>
												</el-form-item>
												<el-form-item label="最小高度">
													<xvue-slider v-model="activeOption.barMinHeight"
														class="right-margin">
													</xvue-slider>
												</el-form-item>
												<el-form-item label="链接">
													<xvue-input type="textarea" :max-rows="5"
														v-model="activeOption.link"></xvue-input>
												</el-form-item>
											</el-collapse-item>
										</el-collapse>
									</template>
									<!-- 折线图配置 -->
									<template v-if="activeComponent.prop==='line'">
										<el-form-item label="竖展示">
											<xvue-switch type="textarea" v-model="activeOption.category"></xvue-switch>
										</el-form-item>
										<el-collapse accordion>
											<el-collapse-item title="折线设置">
												<el-form-item label="标记点">
													<xvue-switch v-model="activeOption.symbol"></xvue-switch>
												</el-form-item>
												<el-form-item label="平滑曲线">
													<xvue-switch v-model="activeOption.smooth"></xvue-switch>
												</el-form-item>
												<el-form-item label="阶梯线图">
													<xvue-select v-model="activeOption.step" :dic="dicOption.stepList">
													</xvue-select>
												</el-form-item>
												<el-form-item label="面积堆积">
													<xvue-switch v-model="activeOption.areaStyle"></xvue-switch>
												</el-form-item>
												<el-form-item label="面积堆积透明度">
													<el-slider v-model="activeOption.areaStyleOpacity" :max="1"
														:step="0.1"></el-slider>
												</el-form-item>
												<el-form-item label="线条宽度">
													<xvue-slider v-model="activeOption.lineWidth">
													</xvue-slider>
												</el-form-item>
												<el-form-item label="点的大小">
													<xvue-slider v-model="activeOption.symbolSize">
													</xvue-slider>
												</el-form-item>
												<el-form-item label="链接">
													<xvue-input type="textarea" :max-rows="5"
														v-model="activeOption.link"></xvue-input>
												</el-form-item>
											</el-collapse-item>
										</el-collapse>
									</template>
									<!--折柱图配置-->
									<template v-if="activeComponent.prop==='terminal'">
										<template v-if="vaildProp('colorList')">
											<el-collapse-item title="自定义配色">
												<el-form-item label="文字颜色">
													<xvue-color v-model="activeOption.nameColor">
													</xvue-color>
												</el-form-item>
												<el-form-item label="轴线颜色">
													<xvue-color v-model="activeOption.lineColor"></xvue-color>
												</el-form-item>
												<xvue-crud :option="colorOption" :data="activeOption.barColor"
													@row-save="rowSave" @row-del="rowDel" @row-update="rowUpdate">
												</xvue-crud>
											</el-collapse-item>
										</template>
									</template>
									<!-- 滑动配置 -->
									<template v-if="activeComponent.prop==='slide'">
										<el-form-item label="开启轮播">
											<xvue-switch v-model="activeOption.autoplay"></xvue-switch>
										</el-form-item>
										<template v-if="activeOption.autoplay">
											<el-form-item label="切换时间">
												<xvue-input-number v-model="activeOption.delay"></xvue-input-number>
											</el-form-item>
										</template>
										<el-form-item label="子类">
											<xvue-select multiple v-model="activeObj.child.index" :dic="childList"
												:props="childProps">
											</xvue-select>
										</el-form-item>
									</template>
									<!-- 字符云配置 -->
									<template v-if="activeComponent.prop==='wordcloud'">
										<el-form-item label="最小字体">
											<xvue-input-number v-model="activeOption.minFontSize"></xvue-input-number>
										</el-form-item>
										<el-form-item label="最大字体">
											<xvue-input-number v-model="activeOption.maxFontSize"></xvue-input-number>
										</el-form-item>
										<el-form-item label="间距">
											<xvue-input-number v-model="activeOption.split"></xvue-input-number>
										</el-form-item>
										<el-form-item label="旋转">
											<xvue-switch v-model="activeOption.rotate"></xvue-switch>
										</el-form-item>
									</template>
									<!-- 象形图配置 -->
									<template v-if="activeComponent.prop==='pictorialbar'">
										<el-form-item label="图标">
											<img :src="activeOption.symbol" v-if="activeOption.symbol" width="60" />
											<xvue-input v-model="activeOption.symbol"></xvue-input>
											<!--<el-input v-model="activeOption.symbol">-->
											<!--<div @click="handleOpenImg('activeOption.symbol')" slot="append">-->
											<!--<i class="iconfont icon-img"></i>-->
											<!--</div>-->
											<!--</el-input>-->
										</el-form-item>
										<el-form-item label="图标字号">
											<xvue-input-number v-model="activeOption.symbolSize"></xvue-input-number>
										</el-form-item>
										<el-form-item label="数值显示">
											<xvue-switch v-model="activeOption.valueShow">
											</xvue-switch>
										</el-form-item>
										<el-form-item label="字体颜色">
											<xvue-color v-model="activeOption.color"></xvue-color>
										</el-form-item>
										<el-form-item label="间距">
											<xvue-slider v-model="activeOption.split"></xvue-slider>
										</el-form-item>
										<!--
                                 <el-collapse-item title="X轴设置">
                                     <el-form-item label="显示">
                                         <xvue-switch v-model="activeOption.xAxisShow">
                                         </xvue-switch>
                                     </el-form-item>
                                     <el-form-item label="字号">
                                         <xvue-input-number v-model="activeOption.xNameFontSize">
                                         </xvue-input-number>
                                     </el-form-item>
                                 </el-collapse-item>
                                 -->
										<el-collapse-item title="Y轴设置">
											<el-form-item label="显示">
												<xvue-switch v-model="activeOption.yAxisShow">
												</xvue-switch>
											</el-form-item>
											<el-form-item label="字号">
												<xvue-input-number v-model="activeOption.yNameFontSize">
												</xvue-input-number>
											</el-form-item>
											<el-form-item label="轴字体颜色">
												<xvue-color v-model="activeOption.nameColor"></xvue-color>
											</el-form-item>
										</el-collapse-item>
										<el-form-item label="链接">
											<xvue-input type="textarea" :max-rows="1" v-model="activeOption.link">
											</xvue-input>
										</el-form-item>
									</template>
									<!-- 轮播配置 -->
									<template v-if="activeComponent.prop==='swiper'">
										<el-form-item label="类型">
											<xvue-radio v-model="activeOption.type" :dic="dicOption.swiperType">
											</xvue-radio>
										</el-form-item>
										<el-form-item label="轮播时间">
											<xvue-input v-model="activeOption.interval"></xvue-input>
										</el-form-item>
										<el-form-item label="轮播方向">
											<xvue-radio v-model="activeOption.direction" :dic="dicOption.directionList">
											</xvue-radio>
										</el-form-item>
										<el-form-item label="选择器">
											<xvue-radio v-model="activeOption.indicator"
												:dic="dicOption.swiperIndicator">
											</xvue-radio>
										</el-form-item>
										<!--<el-form-item label="选择器">-->
										<!--<xvue-radio v-model="activeOption.indicatorShow" :dic="dicOption.swiperIndicator">-->
										<!--</xvue-radio>-->
										<!--</el-form-item>-->
										<el-form-item label="图片透明度">
											<xvue-slider v-model="activeOption.opacity"></xvue-slider>
										</el-form-item>
									</template>

									<!-- 上下滑动配置 -->
									<template v-if="activeComponent.prop==='slippage'">
										<el-form label-width="120px" label-position="left" size="small">
											<el-form-item label="上传图片（数组）">
												<xvue-input type="textarea" :min-rows="15" :max-rows="100"
													v-model="activeOption.bannData"></xvue-input>
											</el-form-item>
										</el-form>
									</template>

									<!-- 刻度盘配置 -->
									<template v-if="activeComponent.prop==='gauge'">
										<el-form-item label="刻度线粗度(像素)">
											<xvue-input-number v-model="activeOption.lineSize"></xvue-input-number>
										</el-form-item>
										<el-form-item label="显示刻度值">
											<xvue-switch v-model="activeOption.axisLabelShow"></xvue-switch>
										</el-form-item>
										<el-form-item label="刻度字号">
											<xvue-input-number v-model="activeOption.axisLabelFontSize">
											</xvue-input-number>
										</el-form-item>
										<!--<el-form-item label="指标名称字号">-->
										<!--<xvue-input-number v-model="activeOption.nameFontSize"></xvue-input-number>-->
										<!--</el-form-item>-->
										<el-form-item label="指标字号">
											<xvue-input-number v-model="activeOption.valueFontSize"></xvue-input-number>
										</el-form-item>
									</template>
									<!-- 文字配置 -->
									<template v-if="activeComponent.prop==='text'">
										<el-form-item label="文本内容">
											<xvue-input v-model="activeObj.data"></xvue-input>
										</el-form-item>
										<el-form-item label="字体大小">
											<xvue-input-number v-model="activeOption.fontSize" :max="200">
											</xvue-input-number>
										</el-form-item>
										<el-form-item label="字体颜色">
											<xvue-color v-model="activeOption.color"></xvue-color>
										</el-form-item>
										<el-form-item label="字体间距">
											<xvue-slider v-model="activeOption.split"></xvue-slider>
										</el-form-item>
										<el-form-item label="字体背景">
											<xvue-color v-model="activeOption.backgroundColor"></xvue-color>
										</el-form-item>
										<el-form-item label="文字粗细">
											<xvue-select v-model="activeOption.fontWeight" :dic="dicOption.fontWeight">
											</xvue-select>
										</el-form-item>
										<el-form-item label="对齐方式">
											<xvue-select v-model="activeOption.textAlign" :dic="dicOption.textAlign">
											</xvue-select>
										</el-form-item>
										<el-collapse accordion>
											<el-collapse-item title="跑马灯设置">
												<el-form-item label="开启">
													<xvue-switch v-model="activeOption.scroll"></xvue-switch>
												</el-form-item>
												<template v-if="activeOption.scroll">
													<el-form-item label="滚动速度">
														<xvue-input v-model="activeOption.speed"></xvue-input>
													</el-form-item>
												</template>
											</el-collapse-item>
											<el-collapse-item title="超链设置">
												<el-form-item label="开启">
													<xvue-switch v-model="activeOption.link"></xvue-switch>
												</el-form-item>
												<template v-if="activeOption.link">
													<el-form-item label="打开方式">
														<xvue-radio v-model="activeOption.linkTarget"
															:dic="dicOption.target">
														</xvue-radio>
													</el-form-item>
													<el-form-item label="超链地址">
														<xvue-input v-model="activeOption.linkHref"></xvue-input>
													</el-form-item>
												</template>
											</el-collapse-item>
										</el-collapse>
									</template>
									<!-- 实时时间配置 -->
									<template v-else-if="activeComponent.prop==='datetime'">
										<el-form-item label="时间格式">
											<xvue-select v-model="activeOption.format" :dic="dicOption.format">
											</xvue-select>
										</el-form-item>
										<el-form-item label="自定义格式">
											<xvue-input v-model="activeOption.format">
											</xvue-input>
										</el-form-item>
										<el-form-item label="字体间距">
											<xvue-input-number v-model="activeOption.split" :max="200">
											</xvue-input-number>
										</el-form-item>
										<el-form-item label="字体大小">
											<xvue-input-number v-model="activeOption.fontSize" :max="200">
											</xvue-input-number>
										</el-form-item>
										<el-form-item label="字体背景">
											<xvue-color v-model="activeOption.backgroundColor"></xvue-color>
										</el-form-item>
										<el-form-item label="对其方式">
											<xvue-select v-model="activeOption.textAlign" :dic="dicOption.textAlign">
											</xvue-select>
										</el-form-item>
										<el-form-item label="文字粗细">
											<xvue-select v-model="activeOption.fontWeight" :dic="dicOption.fontWeight">
											</xvue-select>
										</el-form-item>
										<el-form-item label="字体颜色">
											<xvue-color v-model="activeOption.color"></xvue-color>
										</el-form-item>
									</template>
									<!-- 图片配置 -->
									<template v-else-if="activeComponent.prop==='img'">
										<el-form-item label="开启旋转">
											<xvue-switch v-model="activeOption.rotate"></xvue-switch>
										</el-form-item>
										<el-form-item label="透明度">
											<el-slider v-model="activeOption.opacity" :max="1" :step="0.1"></el-slider>
										</el-form-item>
										<template v-if="activeOption.rotate">
											<el-form-item label="旋转时间">
												<xvue-input-number v-model="activeOption.duration"></xvue-input-number>
											</el-form-item>
										</template>
										<el-form-item label="缩略图">
											<img :src="activeObj.data" alt="" width="100%" />
										</el-form-item>
										<el-form-item label="图片地址">
											<el-input v-model="activeObj.data">
												<div @click="handleOpenImg('activeObj.data')" slot="append">
													<i class="iconfont icon-img"></i>
												</div>
											</el-input>
											<el-upload v-model="activeObj.data" :action="baseUrl"
												:headers="uploadHeader" :limit="1" :on-progress="uploadProgress"
												:on-success="uploadPicImageSuccess" :before-remove="removePicImage"
												:file-list="imgList">
												<el-button size="small" type="primary">点击上传</el-button>
											</el-upload>
										</el-form-item>
									</template>
									<!-- 图片框配置 -->
									<template v-else-if="activeComponent.prop==='imgborder'">
										<el-form-item label="背景色">
											<xvue-color v-model="activeOption.backgroundColor"></xvue-color>
										</el-form-item>
										<el-form-item label="缩略图">
											<img :src="activeObj.data" alt="" width="100%" />
										</el-form-item>
										<el-form-item label="图片地址">
											<el-input v-model="activeObj.data">
												<div @click="handleOpenImg('activeObj.data')" slot="append">
													<i class="iconfont icon-img"></i>
												</div>
											</el-input>
											<el-upload v-model="activeObj.data" :action="baseUrl"
												:headers="uploadHeader" :limit="1" :show-file-list=true
												:on-progress="uploadProgress" :on-success="uploadPicImageSuccess"
												:before-remove="removePicImage" :file-list="imgBorderList">
												<el-button size="small" type="primary">点击上传</el-button>
											</el-upload>
										</el-form-item>
									</template>
									<!-- 进度条配置 -->
									<template v-else-if="activeComponent.prop==='progress'">
										<el-form-item label="类型">
											<xvue-radio v-model="activeOption.type" :dic="dicOption.line">
											</xvue-radio>
										</el-form-item>
										<el-form-item label="间距">
											<xvue-input-number v-model="activeOption.split" :max="200">
											</xvue-input-number>
										</el-form-item>	
										<el-form-item label="边框颜色">
											<xvue-color v-model="activeOption.borderColor"></xvue-color>
										</el-form-item>
										<el-form-item label="边框大小">
											<xvue-input-number v-model="activeOption.strokeWidth" :max="50">
											</xvue-input-number>
										</el-form-item>
										<el-form-item label="字体大小">
											<xvue-input-number v-model="activeOption.fontSize" :max="200">
											</xvue-input-number>
										</el-form-item>
										<el-form-item label="字体颜色">
											<xvue-color v-model="activeOption.color"></xvue-color>
										</el-form-item>
										<el-form-item label="文字粗细">
											<xvue-select v-model="activeOption.fontWeight" :dic="dicOption.fontWeight">
											</xvue-select>
										</el-form-item>
										<el-form-item label="前缀字体大小">
											<xvue-input-number v-model="activeOption.suffixFontSize" :max="200">
											</xvue-input-number>
										</el-form-item>
										<el-form-item label="前缀字体颜色">
											<xvue-color v-model="activeOption.suffixColor"></xvue-color>
										</el-form-item>
										<el-form-item label="前缀文字粗细">
											<xvue-select v-model="activeOption.suffixFontWeight"
												:dic="dicOption.fontWeight">
											</xvue-select>
										</el-form-item>
									</template>
									<!-- 地图配置 -->
									<template v-else-if="activeComponent.prop==='map'">

									</template>
									<!--地理坐标图-->
									<template v-if="activeComponent.prop==='markMap'">
									</template>
									<!--出差图-->
									<template v-if="activeComponent.prop==='markPoint-map'">
										<el-form label-width="120px" label-position="left" size="small">
											<el-form-item label="起点城市">
												<el-select v-model="activeOption.pointProvince.value"
													@change="handlegeoPointProvinceSelect" filterable
													placeholder="请选择起点城市">
													<el-option v-for="item in geoPointMapOption" :key="item.value"
														:label="item.label" :value="item.value">
													</el-option>
												</el-select>
											</el-form-item>
										</el-form>
									</template>
									<!-- 选项卡配置 -->
									<template v-else-if="activeComponent.prop==='tabs'">
										<el-form-item label="字体大小">
											<xvue-input-number v-model="activeOption.fontSize" :max="200">
											</xvue-input-number>
										</el-form-item>
										<el-form-item label="字体颜色">
											<xvue-color v-model="activeOption.color"></xvue-color>
										</el-form-item>
										<el-form-item label="类型">
											<xvue-radio v-model="activeOption.type" :dic="dicOption.tabsTypeList">
											</xvue-radio>
										</el-form-item>
										<template v-if="activeOption.type==='tabs'">
											<el-form-item label="字体间距">
												<xvue-input-number v-model="activeOption.split"></xvue-input-number>
											</el-form-item>
											<el-collapse accordion>
												<el-collapse-item title="边框设置">
													<el-form-item label="背景颜色">
														<xvue-color v-model="activeOption.backgroundColor"></xvue-color>
													</el-form-item>
													<!--<el-form-item label="图标间距">-->
													<!--<xvue-input-number v-model="activeOption.iconSplit"></xvue-input-number>-->
													<!--</el-form-item>-->
													<!--<el-form-item label="图标大小">-->
													<!--<xvue-input-number v-model="activeOption.iconSize"></xvue-input-number>-->
													<!--</el-form-item>-->
													<el-form-item label="缩略图">
														<img :src="activeOption.backgroundImage" alt="" width="70%" />
													</el-form-item>
													<el-form-item label="背景图片">
														<el-input v-model="activeOption.backgroundImage">
															<div @click="handleOpenImg('activeOption.backgroundImage')"
																slot="append">
																<i class="iconfont icon-img"></i>
															</div>
														</el-input>
													</el-form-item>
													<el-form-item label="边框颜色">
														<xvue-color v-model="activeOption.borderColor"></xvue-color>
													</el-form-item>
													<el-form-item label="边框宽度">
														<xvue-input-number v-model="activeOption.borderWidth" :max="10">
														</xvue-input-number>
													</el-form-item>
												</el-collapse-item>
												<el-collapse-item title="高亮设置">
													<el-form-item label="字体高亮颜色">
														<xvue-color v-model="activeOption.empColor"></xvue-color>
													</el-form-item>
													<el-form-item label="缩略图">
														<img :src="activeOption.empBackgroundImage" alt=""
															width="70%" />
													</el-form-item>
													<el-form-item label="背景图片">
														<el-input v-model="activeOption.empBackgroundImage">
															<div @click="handleOpenImg('activeOption.empBackgroundImage')"
																slot="append">
																<i class="iconfont icon-img"></i>
															</div>
														</el-input>
													</el-form-item>
													<el-form-item label="背景颜色">
														<xvue-color v-model="activeOption.empBackgroundColor">
														</xvue-color>
													</el-form-item>
													<el-form-item label="背景透明度">
														<xvue-slider v-model="activeOption.empOpacity" :max="100"
															:step="1">
														</xvue-slider>
													</el-form-item>
													<el-form-item label="边框颜色">
														<xvue-color v-model="activeOption.empBorderColor"></xvue-color>
													</el-form-item>
													<el-form-item label="边框宽度">
														<xvue-input-number v-model="activeOption.empBorderWidth"
															:max="10">
														</xvue-input-number>
													</el-form-item>
												</el-collapse-item>
											</el-collapse>
										</template>

									</template>
									<!-- 翻牌器配置 -->
									<template v-else-if="activeComponent.prop==='flop'">
										<el-form-item label="整体">
											<xvue-switch v-model="activeOption.whole">
											</xvue-switch>
										</el-form-item>
										<el-form-item label="横行">
											<xvue-switch v-model="activeOption.row">
											</xvue-switch>
										</el-form-item>
										<el-form-item label="精度">
											<xvue-input-number v-model="activeOption.decimals">
											</xvue-input-number>
										</el-form-item>
										<el-collapse accordion>
											<el-collapse-item title="边框设置">
												<el-form-item label="边框">
													<xvue-radio v-model="activeOption.type" :dic="dicOption.border">
													</xvue-radio>
												</el-form-item>
												<template v-if="activeOption.type==='border'">
													<el-form-item label="边框颜色">
														<xvue-color v-model="activeOption.borderColor"></xvue-color>
													</el-form-item>
													<el-form-item label="边框宽度">
														<xvue-input-number v-model="activeOption.borderWidth" :max="10">
														</xvue-input-number>
													</el-form-item>
												</template>
												<template v-if="activeOption.type==='img'">
													<el-form-item label="缩略图">
														<img :src="activeOption.backgroundBorder" alt="" width="70%" />
													</el-form-item>
													<el-form-item label="边框图">
														<el-input v-model="activeOption.backgroundBorder">
															<div @click="handleOpenImg('activeOption.backgroundBorder')"
																slot="append">
																<i class="iconfont icon-img"></i>
															</div>
														</el-input>
													</el-form-item>
												</template>
												<el-form-item label="背景颜色">
													<xvue-color v-model="activeOption.backgroundColor"></xvue-color>
												</el-form-item>
												<el-form-item label="缩略图">
													<img :src="activeOption.backgroundImage" alt="" width="70%" />
												</el-form-item>
												<el-form-item label="背景图片">
													<el-input v-model="activeOption.backgroundImage">
														<div @click="handleOpenImg('activeOption.backgroundImage')"
															slot="append">
															<i class="iconfont icon-img"></i>
														</div>
													</el-input>
												</el-form-item>
											</el-collapse-item>
											<el-collapse-item title="内部设置">
												<el-form-item label="宽度">
													<xvue-input-number v-model="activeOption.width" :max="1000">
													</xvue-input-number>
												</el-form-item>
												<el-form-item label="高度">
													<xvue-input-number v-model="activeOption.height" :max="1000">
													</xvue-input-number>
												</el-form-item>
												<el-form-item label="间距">
													<xvue-slider v-model="activeOption.gridY"></xvue-slider>
												</el-form-item>
												<el-form-item label="字体大小">
													<xvue-input-number v-model="activeOption.fontSize" :max="200">
													</xvue-input-number>
												</el-form-item>
												<el-form-item label="字体颜色">
													<xvue-color v-model="activeOption.color"></xvue-color>
												</el-form-item>
												<!--<el-form-item label="字体间距">-->
												<!--<xvue-input-number v-model="activeOption.split"></xvue-input-number>-->
												<!--</el-form-item>-->
												<el-form-item label="文字粗细">
													<xvue-select v-model="activeOption.fontWeight"
														:dic="dicOption.fontWeight">
													</xvue-select>
												</el-form-item>
												<el-form-item label="对其方式">
													<xvue-select v-model="activeOption.justifyContent"
														:dic="dicOption.position">
													</xvue-select>
												</el-form-item>
											</el-collapse-item>
											<el-collapse-item title="前缀设置">
												<template v-if="!activeOption.whole">
													<el-form-item label="前缀内容">
														<xvue-input v-model="activeOption.prefixText"></xvue-input>
													</el-form-item>
												</template>
												<template v-if="!activeOption.row">
													<el-form-item label="对其方式">
														<xvue-select v-model="activeOption.prefixTextAlign"
															:dic="dicOption.textAlign">
														</xvue-select>
													</el-form-item>
												</template>
												<el-form-item label="X间距">
													<xvue-slider v-model="activeOption.prefixSplitx"></xvue-slider>
												</el-form-item>
												<el-form-item label="Y间距">
													<xvue-slider v-model="activeOption.prefixSplity"></xvue-slider>
												</el-form-item>
												<el-form-item label="颜色">
													<xvue-color v-model="activeOption.prefixColor"></xvue-color>
												</el-form-item>
												<el-form-item label="字体大小">
													<xvue-input-number v-model="activeOption.prefixFontSize" :max="200">
													</xvue-input-number>
												</el-form-item>
											</el-collapse-item>
											<el-collapse-item title="后缀设置">
												<template v-if="!activeOption.whole">
													<el-form-item label="后缀内容">
														<xvue-input v-model="activeOption.suffixText"></xvue-input>
													</el-form-item>
												</template>
												<template v-if="!activeOption.row">
													<el-form-item label="对其方式">
														<xvue-select v-model="activeOption.suffixTextAlign"
															:dic="dicOption.textAlign">
														</xvue-select>
													</el-form-item>
												</template>
												<el-form-item label="X间距">
													<xvue-slider v-model="activeOption.suffixSplitx"></xvue-slider>
												</el-form-item>
												<el-form-item label="Y间距">
													<xvue-slider v-model="activeOption.suffixSplity"></xvue-slider>
												</el-form-item>
												<el-form-item label="颜色">
													<xvue-color v-model="activeOption.suffixColor"></xvue-color>
												</el-form-item>
												<el-form-item label="字体大小">
													<xvue-input-number v-model="activeOption.suffixFontSize" :max="200">
													</xvue-input-number>
												</el-form-item>
											</el-collapse-item>
										</el-collapse>
									</template>
									<!-- 表格配置 -->
									<template v-else-if="activeComponent.prop==='table'">
										<el-form-item label="字体大小">
											<xvue-input-number v-model="activeOption.fontSize">
											</xvue-input-number>
										</el-form-item>
										<el-form-item label="行高">
											<xvue-input-number v-model="activeOption.lineHeight">
											</xvue-input-number>
										</el-form-item>
										<el-form-item label="开启滚动">
											<xvue-switch v-model="activeOption.scroll">
											</xvue-switch>
										</el-form-item>
										<template v-if="activeOption.scroll">
											<el-form-item label="滚动时间">
												<xvue-input-number v-model="activeOption.scrollTime">
												</xvue-input-number>
											</el-form-item>
											<el-form-item label="滚动行数">
												<xvue-input-number v-model="activeOption.scrollCount">
												</xvue-input-number>
											</el-form-item>
										</template>
										<el-form-item label="开启排名">
											<xvue-switch v-model="activeOption.index"></xvue-switch>
										</el-form-item>
										<el-form-item label="列显隐">
											<xvue-switch v-model="activeOption.columnShow">
											</xvue-switch>
										</el-form-item>
										<el-collapse accordion>
											<el-collapse-item title="表头设置">
												<el-form-item label="表头显隐">
													<xvue-switch v-model="activeOption.headerShow" :default="true">
													</xvue-switch>
												</el-form-item>
												<el-form-item label="表头颜色">
													<xvue-color type="textarea" v-model="activeOption.headerColor">
													</xvue-color>
												</el-form-item>
												<el-form-item label="表头背景">
													<xvue-color type="textarea" v-model="activeOption.headerBackground">
													</xvue-color>
												</el-form-item>
												<!--<el-form-item label="字体位置">-->
												<!--<xvue-select v-model="activeOption.headerTextAlign" :dic="dicOption.textAlign">-->
												<!--</xvue-select>-->
												<!--</el-form-item>-->
											</el-collapse-item>
										</el-collapse>
										<el-collapse accordion>
											<el-collapse-item title="表体设置">
												<el-form-item label="文字颜色">
													<xvue-color type="textarea" v-model="activeOption.bodyColor">
													</xvue-color>
												</el-form-item>
												<el-form-item label="表格背景">
													<xvue-color type="textarea" v-model="activeOption.bodyBackground">
													</xvue-color>
												</el-form-item>
												<!--<el-form-item label="字体位置">-->
												<!--<xvue-select v-model="activeOption.bodyTextAlign" :dic="dicOption.textAlign">-->
												<!--</xvue-select>-->
												<!--</el-form-item>-->
												<el-form-item label="边框宽度">
													<xvue-input-number v-model="activeOption.borderWidth">
													</xvue-input-number>
												</el-form-item>
												<el-form-item label="边框颜色">
													<xvue-color type="textarea" v-model="activeOption.borderColor">
													</xvue-color>
												</el-form-item>
												<el-form-item label="边框样式">
													<xvue-select v-model="activeOption.borderStyle"
														:dic="dicOption.borderStyle">
													</xvue-select>
												</el-form-item>
												<el-form-item label="奇行颜色">
													<xvue-color type="textarea" v-model="activeOption.nthColor">
													</xvue-color>
												</el-form-item>
												<el-form-item label="偶行颜色">
													<xvue-color type="textarea" v-model="activeOption.othColor">
													</xvue-color>
												</el-form-item>
											</el-collapse-item>
										</el-collapse>
										<xvue-crud :option="tableOption" :data="activeOption.column" @row-save="rowSave"
											@row-del="rowDel" @row-update="rowUpdate"></xvue-crud>
									</template>
									<!-- 雷达图配置 -->
									<template v-else-if="activeComponent.prop==='radar'">
										<el-form-item label="字体大小">
											<xvue-input-number v-model="activeOption.radarNameSize" :max="200">
											</xvue-input-number>
										</el-form-item>
										<el-form-item label="字体颜色">
											<xvue-color v-model="activeOption.radarNameColor" :max="200">
											</xvue-color>
										</el-form-item>
										<!--暂未配置区域透明度-->
										<!--<el-form-item label="区域透明度">-->
										<!--<xvue-slider v-model="activeOption.areaOpacity" :max="1" :step="0.1">-->
										<!--</xvue-slider>-->
										<!--</el-form-item>-->
									</template>
									<!-- 散点图配置 -->
									<template v-else-if="activeComponent.prop==='scatter'">
										<el-form-item label="气泡大小">
											<xvue-input-number v-model="activeOption.symbolSize">
											</xvue-input-number>
										</el-form-item>
										<el-form-item label="字体位置">
											<xvue-select v-model="activeOption.scatterLabelPosition"
												:dic="dicOption.scatterLabelPosition">
											</xvue-select>
										</el-form-item>
										<el-form-item label="内容格式化">
											<xvue-input v-model="activeOption.labelFormatter">
											</xvue-input>
										</el-form-item>
										<el-form-item label="链接">
											<xvue-input type="textarea" :max-rows="5" v-model="activeOption.link">
											</xvue-input>
										</el-form-item>
									</template>
									<!-- 漏斗图配置 -->
									<template v-else-if="activeComponent.prop==='funnel'">

									</template>
									<!-- 饼图的配置 -->
									<template v-else-if="activeComponent.prop==='pie'">
										<el-collapse accordion>
											<el-collapse-item title="饼图设置">
												<el-form-item label="设置为环形">
													<xvue-switch v-model="activeOption.isRadius"></xvue-switch>
												</el-form-item>
												<el-form-item label="半径大小" v-if="activeOption.isRadius">
													<xvue-input v-model="activeOption.radius"></xvue-input>
													>
												</el-form-item>
												<el-form-item label="南丁格尔玫瑰">
													<xvue-switch v-model="activeOption.roseType"></xvue-switch>
												</el-form-item>
												<el-form-item label="自动排序">
													<xvue-switch v-model="activeOption.sort"></xvue-switch>
												</el-form-item>
												<el-form-item label="不展示零">
													<xvue-switch v-model="activeOption.notCount"></xvue-switch>
												</el-form-item>
												<el-form-item label="链接">
													<xvue-input type="textarea" :max-rows="5"
														v-model="activeOption.link"></xvue-input>
												</el-form-item>
												<el-form-item label="标签位置">
													<xvue-select v-model="activeOption.pieLabelPosition"
														:dic="dicOption.pieLabelPosition">
													</xvue-select>
												</el-form-item>
											</el-collapse-item>
										</el-collapse>
									</template>
									<!-- 折叠公共配置 -->
									<el-collapse accordion>
										<!-- 标题设置 -->
										<template v-if="vaildProp('titleList')">
											<el-collapse-item title="标题设置">
												<el-form-item label="标题显示">
													<xvue-switch v-model="activeOption.titleShow"></xvue-switch>
												</el-form-item>
												<el-form-item label="标题">
													<xvue-input v-model="activeOption.title"></xvue-input>
												</el-form-item>
												<el-form-item label="字体颜色">
													<xvue-color v-model="activeOption.titleColor"></xvue-color>
												</el-form-item>
												<el-form-item label="字体大小">
													<xvue-input-number v-model="activeOption.titleFontSize">
													</xvue-input-number>
												</el-form-item>
												<el-form-item label="字体位置">
													<xvue-select v-model="activeOption.titlePostion"
														:dic="dicOption.textAlign">
													</xvue-select>
												</el-form-item>
												<el-form-item label="副标题">
													<xvue-input v-model="activeOption.subtext"></xvue-input>
												</el-form-item>
												<el-form-item label="字体颜色">
													<xvue-color v-model="activeOption.subTitleColor"></xvue-color>
												</el-form-item>
												<el-form-item label="字体大小">
													<xvue-input-number v-model="activeOption.subTitleFontSize">
													</xvue-input-number>
												</el-form-item>
											</el-collapse-item>
										</template>
										<!-- 轴设置 -->
										<template v-if="vaildProp('barList')">
											<el-collapse-item title="X轴设置">
												<el-form-item label="名称">
													<xvue-input v-model="activeOption.xAxisName">
													</xvue-input>
												</el-form-item>
												<el-form-item label="显示">
													<xvue-switch v-model="activeOption.xAxisShow">
													</xvue-switch>
												</el-form-item>
												<el-form-item label="显示网格线">
													<xvue-switch v-model="activeOption.xAxisSplitLineShow">
													</xvue-switch>
												</el-form-item>
												<el-form-item label="标签间距">
													<xvue-switch v-model="activeOption.xAxisinterval">
													</xvue-switch>
												</el-form-item>
												<el-form-item label="文字角度">
													<xvue-slider v-model="activeOption.xAxisRotate"
														class="right-margin">
													</xvue-slider>
												</el-form-item>
												<el-form-item label="轴反转">
													<xvue-switch v-model="activeOption.xAxisInverse">
													</xvue-switch>
												</el-form-item>
												<el-form-item label="字号">
													<xvue-input-number v-model="activeOption.xNameFontSize">
													</xvue-input-number>
												</el-form-item>
											</el-collapse-item>
											<el-collapse-item title="Y轴设置">
												<el-form-item label="名称">
													<xvue-input v-model="activeOption.yAxisName">
													</xvue-input>
												</el-form-item>
												<template v-if="activeComponent.prop==='terminal'">
													<el-form-item label="右轴名称">
														<xvue-input v-model="activeOption.yAxisName2">
														</xvue-input>
													</el-form-item>
												</template>
												<el-form-item label="显示">
													<xvue-switch v-model="activeOption.yAxisShow">
													</xvue-switch>
												</el-form-item>
												<el-form-item label="轴网格线">
													<xvue-switch v-model="activeOption.yAxisSplitLineShow">
													</xvue-switch>
												</el-form-item>
												<el-form-item label="反转">
													<xvue-switch v-model="activeOption.yAxisInverse">
													</xvue-switch>
												</el-form-item>
												<el-form-item label="字号">
													<xvue-input-number v-model="activeOption.yNameFontSize">
													</xvue-input-number>
												</el-form-item>
											</el-collapse-item>
										</template>
										<!-- 数值设置 -->
										<template v-if="vaildProp('labelList')">
											<el-collapse-item title="字体设置">
												<el-form-item label="显示">
													<xvue-switch v-model="activeOption.labelShow">
													</xvue-switch>
												</el-form-item>
												<el-form-item label="字体大小">
													<xvue-input-number v-model="activeOption.labelShowFontSize">
													</xvue-input-number>
												</el-form-item>
												<el-form-item label="字体颜色">
													<xvue-color v-model="activeOption.labelShowColor">
													</xvue-color>
												</el-form-item>
												<el-form-item label="字体粗细">
													<xvue-select v-model="activeOption.labelShowFontWeight"
														:dic="dicOption.fontWeight">
													</xvue-select>
												</el-form-item>
											</el-collapse-item>
										</template>
										<!-- 提示语设置  -->
										<template v-if="vaildProp('tipList')">
											<el-collapse-item title="提示语设置">
												<el-form-item label="字体大小">
													<xvue-input-number v-model="activeOption.tipFontSize">
													</xvue-input-number>
												</el-form-item>
												<el-form-item label="字体颜色">
													<xvue-color v-model="activeOption.tipColor"></xvue-color>
												</el-form-item>
											</el-collapse-item>
										</template>
										<!-- 轴距离设置 -->
										<template v-if="vaildProp('postionList')">
											<el-collapse-item title="坐标轴边距设置">
												<el-form-item label="左边距(像素)">
													<xvue-slider v-model="activeOption.gridX" :max="400"></xvue-slider>
												</el-form-item>
												<el-form-item label="顶边距(像素)">
													<xvue-slider v-model="activeOption.gridY||70" :max="400">
													</xvue-slider>
												</el-form-item>
												<el-form-item label="右边距(像素)">
													<xvue-slider v-model="activeOption.gridX2" :max="400"></xvue-slider>
												</el-form-item>
												<el-form-item label="底边距(像素)">
													<xvue-slider v-model="activeOption.gridY2" :max="400"></xvue-slider>
												</el-form-item>
											</el-collapse-item>
										</template>
										<!-- 图例设置 -->
										<template v-if="vaildProp('legendList')">
											<el-collapse-item title="图例操作">
												<el-form-item label="图例">
													<xvue-switch v-model="activeOption.legend"></xvue-switch>
												</el-form-item>
												</xvue-input-number>
												</el-form-item>
												<el-form-item label="图例宽度">
													<xvue-input-number v-model="activeOption.itemWidth">
													</xvue-input-number>
												</el-form-item>
												<!--<el-form-item label="位置">-->
												<!--<xvue-select v-model="activeOption.legendPostion" :dic="dicOption.textAlign">-->
												<!--</xvue-select>-->
												<!--</el-form-item>-->
												<el-form-item label="横向位置">
													<xvue-select v-model="activeOption.legendPostion"
														:dic="dicOption.textAlign">
													</xvue-select>
												</el-form-item>
												<el-form-item label="纵向位置">
													<xvue-select v-model="activeOption.legendTop"
														:dic="dicOption.topList">
													</xvue-select>
												</el-form-item>
												<el-form-item label="布局朝向">
													<xvue-select v-model="activeOption.legendOrient"
														:dic="dicOption.orientList">
													</xvue-select>
												</el-form-item>
												<el-form-item label="字体大小">
													<xvue-input-number v-model="activeOption.legendFontSize">
													</xvue-input-number>
												</el-form-item>
											</el-collapse-item>
										</template>
										<!-- 颜色设置 -->
										<template v-if="vaildProp('colorList')">
											<el-collapse-item title="自定义配色">
												<el-form-item label="文字颜色">
													<xvue-color v-model="activeOption.nameColor">
													</xvue-color>
												</el-form-item>
												<el-form-item label="轴线颜色">
													<xvue-color v-model="activeOption.lineColor"></xvue-color>
												</el-form-item>
												<xvue-crud :option="colorOption" :data="activeOption.barColor"
													@row-save="rowSave" @row-del="rowDel" @row-update="rowUpdate">
												</xvue-crud>
											</el-collapse-item>
										</template>
										<template v-if="vaildProp('mapList')">
											<el-form-item label="开启轮播">
												<xvue-switch v-model="activeOption.banner"></xvue-switch>
											</el-form-item>
											<template v-if="activeOption.banner">
												<el-form-item label="轮播时间">
													<xvue-input v-model="activeOption.bannerTime"></xvue-input>
												</el-form-item>
											</template>
											<template v-if="activeOption.type===0">
												<xvue-echart-province v-model="activeOption.mapSelect"
													:provincelist="dicOption.provinceList"></xvue-echart-province>
												<el-form-item label="地图比例">
													<xvue-slider v-model="activeOption.zoom" :max="5" :step="0.1">
													</xvue-slider>
												</el-form-item>
												<el-form-item label="字体大小">
													<xvue-input-number v-model="activeOption.fontSize">
													</xvue-input-number>
												</el-form-item>
												<el-form-item label="字体高亮颜色">
													<xvue-color v-model="activeOption.empColor"></xvue-color>
												</el-form-item>
												<el-form-item label="字体颜色">
													<xvue-color v-model="activeOption.color"></xvue-color>
												</el-form-item>
												<el-form-item label="区域线">
													<xvue-input-number v-model="activeOption.borderWidth">
													</xvue-input-number>
												</el-form-item>
												<el-form-item label="区域颜色">
													<xvue-color v-model="activeOption.areaColor"></xvue-color>
												</el-form-item>
												<el-form-item label="区域高亮颜色">
													<xvue-color v-model="activeOption.empAreaColor"></xvue-color>
												</el-form-item>
												<el-form-item label="边框颜色">
													<xvue-color v-model="activeOption.borderColor"></xvue-color>
												</el-form-item>
											</template>
											<template v-if="activeOption.type===1">
												<el-form-item label="图片地址">
													<xvue-input v-model="activeOption.img"></xvue-input>
												</el-form-item>
												<el-form-item label="地图比例">
													<xvue-slider v-model="activeOption.scale" :max="300"></xvue-slider>
												</el-form-item>
											</template>
										</template>
									</el-collapse>
								</template>
								<!-- 多选配置选项 -->
								<template v-else-if="isSelect">
									<el-form-item label="水平方式">
										<el-tooltip content="左对齐" placement="top">
											<i class="el-icon-s-fold icon" @click="handlePostionSelect('left')"></i>
										</el-tooltip>
										<el-tooltip content="居中对齐" placement="top">
											<i class="el-icon-s-operation icon"
												@click="handlePostionSelect('center')"></i>
										</el-tooltip>
										<el-tooltip content="右对齐" placement="top">
											<i class="el-icon-s-unfold icon" @click="handlePostionSelect('right')"></i>
										</el-tooltip>
									</el-form-item>
									<el-form-item label="垂直方式">
										<el-tooltip content="顶对齐" placement="top">
											<i class="el-icon-s-fold icon" @click="handlePostionSelect('top')"></i>
										</el-tooltip>
										<el-tooltip content="中部对齐" placement="top">
											<i class="el-icon-s-operation icon"
												@click="handlePostionSelect('middle')"></i>
										</el-tooltip>
										<el-tooltip content="底对齐" placement="top">
											<i class="el-icon-s-unfold icon" @click="handlePostionSelect('bottom')"></i>
										</el-tooltip>
									</el-form-item>
									<el-form-item label-width="0">
										<el-button type="primary" size="small" class="block"
											@click="handleDeleteSelect">批量删除
										</el-button>
									</el-form-item>
									<el-form-item label-width="0">
										<el-button type="danger" size="small" class="block" @click="handleExectSelect">
											退出全选
										</el-button>
									</el-form-item>
								</template>

								<!-- 主屏的配置项 -->
								<template v-else>
									<el-form-item label="大屏名称" prop="name">
										<xvue-input v-model="config.name"></xvue-input>
									</el-form-item>
									<el-form-item label="大屏简介">
										<xvue-input v-model="config.info" type="textarea" :min-rows="5"></xvue-input>
									</el-form-item>
									<el-form-item label="大屏宽度">
										<xvue-input-number v-model="config.width"></xvue-input-number>
									</el-form-item>
									<el-form-item label="大屏高度">
										<xvue-input-number v-model="config.height"></xvue-input-number>
									</el-form-item>
									<el-form-item label="背景颜色">
										<xvue-color v-model="config.backgroundColor"></xvue-color>
									</el-form-item>
									<el-form-item label="缩略图">
										<el-upload v-model="config.thumbnail" :action="baseUrl" :headers="uploadHeader"
											:limit="1" :on-progress="uploadProgress" :on-success="uploadSuccess"
											:before-remove="removeFile" list-type="picture" :file-list="fileList">
											<el-button size="small" type="primary">点击上传</el-button>
										</el-upload>
									</el-form-item>
									<el-form-item label="背景图">
										<img :src="imgPath" alt="" width="70%" />
									</el-form-item>
									<el-form-item label="背景图片">
										<el-input v-model="config.backgroundImage">
											<div @click="handleOpenImg('config.backgroundImage')" slot="append">
												<i class="iconfont icon-img"></i>
											</div>
										</el-input>
										<el-upload :action="baseUrl" :headers="uploadHeader" :limit="1"
											:on-progress="uploadProgress" :on-success="uploadBackgroundImageSuccess"
											:before-remove="removeBackgroundImage" :file-list="backgroundList">
											<el-button size="small" type="primary">点击上传</el-button>
										</el-upload>
									</el-form-item>
									<el-form-item label="缩放">
										<el-slider v-model="config.scale" :max="200" :format-tooltip="formatTooltip">
										</el-slider>
									</el-form-item>
									<el-form-item label="环境地址">
										<xvue-input type="textarea" :min-rows="5" v-model="config.url"></xvue-input>
									</el-form-item>
									<el-form-item label="参数">
										<xvue-input type="textarea" :min-rows="5" v-model="queryData"></xvue-input>
									</el-form-item>
									<template v-if="config.mark.show">
										<el-form-item label="内容">
											<xvue-input v-model="config.mark.text"></xvue-input>
										</el-form-item>
										<el-form-item label="大小">
											<xvue-input-number v-model="config.mark.fontSize"></xvue-input-number>
										</el-form-item>
										<el-form-item label="颜色">
											<xvue-color v-model="config.mark.textStyle"></xvue-color>
										</el-form-item>
										<el-form-item label="角度">
											<xvue-input-number v-model="config.mark.degree"></xvue-input-number>
										</el-form-item>
									</template>
								</template>
							</el-form>
						</el-tab-pane>
						<!-- 数据配置 -->
						<el-tab-pane name="1" v-if="vaildProp('dataList')">
							<el-tooltip slot="label" effect="dark" content="数据" placement="top">
								<div style="color: #fff"><i class="nav__icon iconfont icon-peizhi"></i>数据</div>
							</el-tooltip>
							<el-form label-width="120px" label-position="left" size="small">
								<el-form-item label="数据类型">
									<xvue-radio v-model="activeObj.dataType" :dic="dicOption.dataType"></xvue-radio>
								</el-form-item>
								<el-form-item label="数据值" v-if="activeObj.dataType===0">
									<xvue-input type="textarea" v-model="jsonData" :min-rows="15"></xvue-input>
								</el-form-item>
								<template v-if="activeObj.dataType===1">
									<el-form-item label="接口地址">
										<xvue-input type="textarea" :min-rows="6" v-model="activeObj.url"></xvue-input>
									</el-form-item>
									<el-form-item label="接口参数">
										<xvue-input type="textarea" :min-rows="6" v-model="activeObj.parameter">
										</xvue-input>
									</el-form-item>
									<el-form-item label="接口方式" v-if="activeObj.dataType===1">
										<xvue-radio v-model="activeObj.dataMethod" :dic="dicOption.dataMethod">
										</xvue-radio>
									</el-form-item>
									<el-form-item label="刷新时间">
										<xvue-input-number v-model="activeObj.time"></xvue-input-number>
									</el-form-item>
								</template>
								<el-form-item label="数据处理">
									<xvue-input type="textarea" :min-rows="15" v-model="activeObj.dataFormatter">
									</xvue-input>
								</el-form-item>
								<el-form-item label-width="0">
									<el-button type="primary" size="small" class="block" @click="handleRefresh">刷新数据
									</el-button>
								</el-form-item>
							</el-form>
						</el-tab-pane>
						<!-- 交互事件配置 -->
						<el-tab-pane name="2" v-if="vaildProp('eventList')">
							<el-tooltip slot="label" effect="dark" content="交互" placement="top">
								<div style="color: #fff"><i class="nav__icon iconfont icon-peizhi"></i>交互</div>
							</el-tooltip>
							<el-form label-width="120px" label-position="left" size="small">
								<el-form-item label="子类">
									<xvue-select multiple v-model="activeObj.child.index" :dic="childList"
										:props="childProps">
									</xvue-select>
								</el-form-item>
								<el-form-item label="参数">
									<xvue-input v-model="activeObj.child.paramName"></xvue-input>
								</el-form-item>
							</el-form>
						</el-tab-pane>
						<!-- 其他事件配置 -->
						<el-tab-pane name="3" v-if="vaildProp('formatterList')">
							<el-tooltip slot="label" effect="dark" content="格式化" placement="top">
								<div style="color: #fff"><i class="nav__icon iconfont icon-peizhi"></i>格式化</div>
							</el-tooltip>
							<el-form label-width="120px" label-position="left" size="small">
								<el-form-item label="提示事件">
									<xvue-input type="textarea" :min-rows="15" v-model="activeObj.formatter">
									</xvue-input>
								</el-form-item>
								<el-form-item label="点击事件" v-if="vaildProp('clickFormatterList')">
									<xvue-input type="textarea" :min-rows="15" v-model="activeObj.clickFormatter">
									</xvue-input>
								</el-form-item>
								<el-form-item label="标题事件" v-if="vaildProp('labelFormatterList')">
									<xvue-input type="textarea" :min-rows="15" v-model="activeObj.labelFormatter">
									</xvue-input>
								</el-form-item>
								<el-button type="primary" size="small" class="block" @click="handleFormatter">刷新函数
								</el-button>
							</el-form>
						</el-tab-pane>
						<!-- 基本参数配置 -->
						<el-tab-pane name="4" v-if="isActive">
							<el-tooltip slot="label" effect="dark" content="参数" placement="top">
								<div style="color: #fff"><i class="nav__icon el-icon-s-operation"></i>参数</div>
							</el-tooltip>
							<el-form label-width="120px" label-position="left" size="small">
								<el-form-item label="序号">
									<xvue-input v-model="active"></xvue-input>
								</el-form-item>
								<el-form-item label="宽度">
									<xvue-input v-model="activeComponent.width"></xvue-input>
								</el-form-item>
								<el-form-item label="高度">
									<xvue-input v-model="activeComponent.height"></xvue-input>
								</el-form-item>
								<el-form-item label="X位置">
									<xvue-input v-model="activeObj.left"></xvue-input>
								</el-form-item>
								<el-form-item label="Y位置">
									<xvue-input v-model="activeObj.top"></xvue-input>
								</el-form-item>
							</el-form>
						</el-tab-pane>
					</el-tabs>
				</div>
			</div>
		</div>
	</body>
	<noscript>
		<iframe src="*.htm"></iframe>
	</noscript>
	<script>
		//全局注册echarts
		Vue.prototype.$echarts = echarts;
		const calcWidth = 180 + 345;
		new Vue({
			el: '#app',
			data() {
				return {
					menuWidth: '200',
					isCollapse: false,
					uploadHeader: {
						"token": ""
					},
					picture: null, //图片组件地址
					uploadLoading: null, //文件上传
					backgroundList: [], //背景图片列表
					imgList: [], //图片列表,
					imgBorderList: [], //图片框列表
					token: null, // token
					rules: {
						name: [{
							required: true,
							message: '请输入大屏名称',
							trigger: 'blur'
						}, ]
					},
					highline: false,
					geoCoordMapOption: geoCoordMapOption, //全国迁徙
					geoPointMapOption: geoPointMapOption, //出差
					selectProvince: 0, //当前地图省份
					fileList: [],
					text: ``,
					id: "",
					type: "0", //模版类型
					// baseUrl,
					baseUrl: getBaseUrl + '/document/oss/upload',
					getBaseUrl: getBaseUrl,
					url: reportUrl,
					getUrl: {
						"save": getBaseUrl + "/report/largeScreen/save",
						"update": getBaseUrl + "/report/largeScreen/update",
					},
					childProps: {
						label: 'name',
						value: 'index'
					},
					contentWidth: 0,
					contentMenu: false,
					contentMenuX: -1000,
					contentMenuY: -1000,
					zIndex: 0,
					key: '',
					scale: '',
					baseList: baseList,
					menuFlag: true,
					treeFlag: false,
					configFlag: false,
					pageDesign: false,
					dataVisible: false,
					imgVisible: false,
					isThumbnail: false,
					imgObj: {},
					imgOption: imgOption,
					imgTabs: imgTabs,
					imgActive: 0,
					CodeMirrorEditor: {},
					gradeFlag: false,
					form: {},
					dicOption: dicOption,
					tableOption: tableOption,
					colorOption: colorOption,
					config: config,
					active: -1,
					tabsActive: 0,
					list: list,
					selectList: [],
					selectCount: {
						maxx1: 0,
						maxx2: 0,
						maxy1: 0,
						maxy2: 0,
						x1: 0,
						x2: 0,
						y1: 0,
						y2: 0
					},
					moveObj: {
						startX: 0,
						startY: 0,
						show: false,
					},
					selectObj: {
						startX: 0,
						startY: 0,
						moveX: 0,
						moveY: 0,
						flag: false,
						show: false,
						left: 0,
						top: 0,
						width: 0,
						height: 0
					},
					uuid: '',
					sortType: '',
					showCloseBtn: false,
				}
			},
			computed: {
				imgPath() {
					return this.getImgPath();
				},
				selectStyle() {
					return {
						width: this.setPx(this.selectObj.width),
						height: this.setPx(this.selectObj.height),
						left: this.setPx(this.selectObj.left),
						top: this.setPx(this.selectObj.top)
					}
				},
				isSelect() {
					return !this.validatenull(this.selectList)
				},
				isActive() {
					return this.active != -1
				},
				childList() {
					return this.list.filter(ele => {
						if (['tabs', 'slide'].includes(ele.component.prop)) {
							return false;
						}
						return true;
					})
				},
				listJson() {
					let list = this.list.filter(ele => !ele.destruction == true)
					const str = stringify(list)
					return str
				},
				stepScale() {
					let scale = Number(((1 / this.scale) * 100).toFixed(2));
					return scale
				},
				queryData: {
					get() {
						const data = this.config.query;
						if (this.isJson(data)) {
							return JSON.stringify(data, null, 4);
						}
						return '';
					},
					set(val) {
						let data;
						try {
							data = JSON.parse(val, null, 4);
							this.config.query = data
						} catch (error) {
							this.$message.error('json格式错误，检查控制台')
							this.$Log.danger(error)
						}

					},
				},
				jsonData: {
					get() {
						const data = this.activeObj.data
						if (this.isJson(data)) {
							return JSON.stringify(data, null, 4);
						}
						return '';
					},
					set(val) {
						let data;
						try {
							data = this.activeComponent.prop == 'map' ? [] : JSON.parse(val, null, 4);
							this.activeObj.data = data
						} catch (error) {
							this.$message.error('json格式错误，检查控制台')
							this.$Log.danger(error)
						}
					},
				},
				styleContentmenu() {
					return {
						left: this.setPx(this.contentMenuX),
						top: this.setPx(this.contentMenuY)
					}
				},
				zIndexList: {
					set(val) {
						const leng = val.length;
						val.forEach((ele, index) => {
							const zIndex = leng - index;
							this.$set(this.list[ele.index], 'zIndex', zIndex)
						})
					},
					get() {
						let list = [];
						list = this.list.map(ele => {
							return {
								destruction: ele.destruction,
								index: ele.index,
								title: ele.name,
								zIndex: ele.zIndex,
								icon: ele.icon
							}
						})
						list.sort(compare("zIndex"));
						return list;
					}
				},
				listLen() {
					return this.list.length || 0;
				},
				activeComponent() {
					return this.activeObj.component || {}
				},
				activeOption() {
					return this.activeComponent.option || {}
				},
				activeKey() {
					if (this.activeComponent.name === 'table') {
						return this.activeOption.column || []
					} else if (this.dicOption.colorList.includes(this.activeComponent.name)) {
						return this.activeOption.barColor || []

					}
				},
				activeObj() {
					return this.list[this.active] || {}
				},
				activeNextObj() {
					return this.list[this.active - 1] || {}
				},
				activeBreakObj() {
					return this.list[this.active + 1] || {}
				},
				styleName() {
					const scale = this.config.scale;
					return Object.assign({
						transform: "scale(".concat(scale / 100, ", ").concat(scale / 100, ")"),
						width: this.setPx(this.config.width),
						height: this.setPx(this.config.height),
						backgroundColor: this.config.backgroundColor
					}, (() => {
						if (this.config.backgroundImage) {
							return {
								background: "url(" + this.getImgPath() +
									") 0% 0% / 100% 100% rgb(3, 12, 59)",
							}
						}
						return
					})())
				},
				gradeLenStyle() {
					return {
						backgroundSize: "" + this.setPx(this.config.gradeLen) + " " + this.setPx(this.config
							.gradeLen) + "," + this.setPx(
								this.config.gradeLen) + " " + this.setPx(this.config.gradeLen) + ""
					}
				}
			},
			mounted() {
				//加入token
				this.token = JSON.parse(localStorage.getItem('vuejs__Access-Token')).value;
				this.uploadHeader.token = this.token;
				// if(!this.token){
				//     window.location.href="./403/index.html";
				// }
				window.addEventListener('keydown', this.handleKeyboardDel)
				window.addEventListener('keyup', this.handleKeyboardEvent)

				const loading = this.$loading({
					lock: true,
					text: '正在加载中，请稍后',
					spinner: 'el-icon-loading',
					background: 'rgba(0, 0, 0, 0.7)'
				});

				this.type = getQueryString("type")
				let type = getQueryString("sort");
				this.sortType = type === 'edit' ? '更新' : '保存';
				this.showCloseBtn = !type ? true : false;
				this.uuid = getQueryString("uuid");
				if (this.uuid) {
					axios.get(this.getBaseUrl + '/report/largeScreen/getDeleteByUuid', {
						params: {
							uuid: this.uuid,
						},
						headers: {
							"token": this.token
						}
					}).then(res => {
						if (res.data.code === '200') {
							let report = res.data.result;
							document.title = report.largeScreenName + '   -   大屏报表';
							this.list = eval("(" + report.desScreenItemJson + ")");
							this.config = eval("(" + report.desScreenMainJson + ")");
							this.config.thumbnail = report.thumbnail;
							this.config.backgroundImage = report.imageUrl;
							let url = this.config.thumbnail;
							if (report.thumbnail) {
								this.fileList.push({
									name: report.thumbnail,
									url: url
								})
							}
							loading.close();
							if (this.$refs.content) this.contentWidth = this.$refs.content.offsetWidth;
							this.setScale();
							this.setResize();
						}
					});
				} else {
					let id = getQueryString('id');
					if (!id) {
						this.contentWidth = this.$refs.content.offsetWidth;
						this.setScale();
						this.setResize();
						loading.close();
						return;
					}
					this.list = []
					this.config = []
					this.id = id;
				}
			},
			watch: {

				"activeObj.top"() {
					this.handleAlign()
				},
				"activeObj.left"() {
					this.handleAlign()
				},
				"activeOption.mapSelect"(newValue) {
					if (newValue != undefined && newValue != '') {
						this.registerMap(newValue, "map");
					}

				},
				'config.width'() {
					this.setResize('width');
				},
				'config.height'() {
					this.setResize('height');
				},
				'config.scale'() {
					this.setResize();
				},
				menuFlag(val) {
					this.setResize();
				},
				active(val) {
					this.list.forEach((ele, index) => {
						this.$refs['item_' + index][0].setActive(index == val)
					});
					this.$nextTick(() => {
						this.selectObj.flag = false;
						this.contentMenu = false;
					})
					this.tabsActive = '0';
				},
			},
			methods: {
				handleOpen(key, keyPath) {},
				handleClose(key, keyPath) {},
				activeClick(index) {
					//选择图层时清除表单校验
					this.active = index
					this.clearValidate();
				},
				clearValidate() {
					this.$refs.saveForm.clearValidate();
				},
				getImgPath() {
					let backgroundImage = this.config.backgroundImage;
					if (backgroundImage) {
						if (!backgroundImage.startsWith("http")) {
							return backgroundImage;
						}
					}
					return backgroundImage;
				},
				handlegeoCoordProvinceSelect(value) {
					this.activeOption.coolrdProvince = this.geoCoordMapOption[value];
				},
				handlegeoPointProvinceSelect(value) {
					this.activeOption.pointProvince = this.geoPointMapOption[value];
				},
				removeFile(file, fileList) {
					this.config.thumbnail = "";
				},
				uploadSuccess(response, file, fileList) {
					this.config.thumbnail = response.filePath;
					this.uploadLoading && this.uploadLoading.close();
					this.uploadLoading = null;
				},
				uploadProgress(event, file, fileList) {
					this.uploadLoading = this.$loading({
						lock: true,
						text: '正在上传中，请稍后',
						spinner: 'el-icon-loading',
						background: 'rgba(0, 0, 0, 0.7)'
					});
				},
				uploadBackgroundImageSuccess(response, file, fileList) {
					//背景图片上传回调
					this.config.backgroundImage = response.filePath;
					this.uploadLoading && this.uploadLoading.close();
					this.uploadLoading = null;
				},
				removeBackgroundImage(file, fileList) {
					//移出背景图片
					this.config.backgroundImage = "";
				},
				uploadPicImageSuccess(response, file, fileList) {
					//图片上传回调
					this.activeObj.data = response.filePath;
					this.uploadLoading && this.uploadLoading.close();
					this.uploadLoading = null;
				},
				removePicImage(file, fileList) {
					//移出图片
					this.activeObj.data = "";
				},
				handleViewPage() {
					this.pageDesign = !this.pageDesign
				},
				handleViewAttr() {
					this.configFlag = !this.configFlag
				},
				handleTree() {
					this.treeFlag = !this.treeFlag
				},
				handleBack() {
					// self.location = `report.html?token=${this.token}`;
					let type = getQueryString("sort");
					window.history.go(-1);
				},
				handleSave() {
					if (!this.config.name) {
						this.$message({
							offset: 200,
							duration: 2000,
							showClose: true,
							message: '请输入大屏名称',
							type: 'error'
						});
						return;
					}
					this.$refs.saveForm.validate((valid) => {
						if (!valid) {
							return false;
						}
						if (this.list.length < 1) {
							this.$message({
								offset: 200,
								duration: 2000,
								showClose: true,
								message: '请添加组件',
								type: 'error'
							});
							return false;
						}

						const loading = this.$loading({
							lock: true,
							text: '正在保存中，请稍后',
							spinner: 'el-icon-loading',
							background: 'rgba(0, 0, 0, 0.7)'
						});

						let params = getUrlParams(window.location.href);

						let jreReport = {};
						let nowTime = new Date().getTime();
						jreReport.id = this.id;
						jreReport.status = "0";
						jreReport.type = this.type;
						jreReport.largeScreenName = this.config.name;
						jreReport.screenDescribe = this.config.info;
						jreReport.imageUrl = this.config.backgroundImage;
						jreReport.desScreenMainJson = stringify(this.config);
						jreReport.desScreenItemJson = this.listJson;
						jreReport.query = Object.assign((this.config.query || {}), params);
						jreReport.uuid = this.uuid;
						jreReport.thumbnail = this.config.thumbnail;
						jreReport.updateTime = nowTime;
						//保护码
						jreReport.protectionCode = this.config.protectionCode;
						//加入创建时间字段
						if (!this.id) {
							jreReport.createTime = nowTime;
						}
						//删除标识0-正常,1-已删除
						jreReport.delFlag = 0;

						let uuid = getQueryString("uuid");
						let url = uuid ? this.getUrl.update : this.getUrl.save;
						axios.post(url, jreReport, {
							headers: {
								"token": this.token
							}
						}).then(res => {
							if (res.data.statusCode === 200) {
								// this.id = res.data.result.id;
								this.$message({
									offset: 200,
									duration: 700,
									showClose: true,
									message: res.data.message,
									type: 'success'
								});
								loading.close();
							} else {
								this.$message({
									offset: 200,
									duration: 700,
									showClose: true,
									message: res.data.message,
									type: 'error'
								});
								loading.close();
							}
						})
					});
				},
				vaildProp(name, list) {
					if (list) {
						return list.includes(this.activeComponent.prop)
					}
					return this.dicOption[name].includes(this.activeComponent.prop)
				},
				handleMoveMouseUp(e) {
					this.moveObj.show = false;
				},
				handleMoveMouseDown(e) {
					const x = e.offsetX
					const y = e.offsetY
					this.moveObj.startX = x
					this.moveObj.startY = y
					this.moveObj.show = true;
					this.handleAlign()
				},
				handleMoveMouseMove(e) {
					if (this.moveObj.show) {
						const x = e.offsetX
						const y = e.offsetY;
						const movex = (x - this.moveObj.startX) * this.stepScale;
						const movey = (y - this.moveObj.startY) * this.stepScale;
						this.moveObj.startX = x
						this.moveObj.startY = y
						this.handleMoveSelectList(movex, movey)
						this.handleAlign()
					}
				},
				handleSelectMouseDown(e) {
					this.list.forEach((ele, index) => {
						this.$refs['item_' + index][0].setActive(false)
					})
					this.selectObj.flag = false;
					this.selectObj.width = 0
					this.selectObj.height = 0;
					const x = e.layerX
					const y = e.layerY
					this.selectObj.startX = x
					this.selectObj.startY = y
					this.selectObj.left = x;
					this.selectObj.top = y;
					this.selectObj.show = true
					this.handleMouseDown();
				},
				handleSelectMouseMove(e) {
					if (this.selectObj.show) {
						const x = e.layerX
						const y = e.layerY;
						this.selectObj.width = this.selectObj.width + x - this.selectObj.startX
						this.selectObj.height = this.selectObj.height + y - this.selectObj.startY
						this.selectObj.startX = x
						this.selectObj.startY = y
						this.handleAlign()
					}
				},
				handleSelectMouseUp() {
					if (this.selectObj.show) {
						this.selectObj.show = false
						if (this.selectObj.width != 0 && this.selectObj.height != 0) {
							this.selectCount.x1 = this.selectObj.left * this.stepScale
							this.selectCount.x2 = this.selectCount.x1 + this.selectObj.width * this.stepScale
							this.selectCount.y1 = this.selectObj.top * this.stepScale
							this.selectCount.y2 = this.selectCount.y1 + this.selectObj.height * this.stepScale
							this.handleGetSelectList();
							this.handleAlign()
						}
					}
				},
				handlePostionSelect(postion) {
					const x1 = this.selectCount.maxx1;
					const x2 = this.selectCount.maxx2;
					const y1 = this.selectCount.maxy1;
					const y2 = this.selectCount.maxy2;
					const xa = x1 + x2
					const ya = y1 + y2
					if (postion === 'left') {
						this.handleMoveSelectList(x1, undefined, true, postion);
					} else if (postion === 'center') {
						this.handleMoveSelectList(x1 + (x2 - x1) / 2, undefined, true, postion);
					} else if (postion === 'right') {
						this.handleMoveSelectList(x2, undefined, true, postion);
					} else if (postion === 'top') {
						this.handleMoveSelectList(undefined, y1, true, postion);
					} else if (postion === 'middle') {
						this.handleMoveSelectList(undefined, y1 + (y2 - y1) / 2, true, postion);
					} else if (postion === 'bottom') {
						this.handleMoveSelectList(undefined, y2, true, postion);
					}
				},
				handleMoveSelectList(left, top, type, postion) {
					this.selectList.forEach(index => {
						const ele = list[index];
						const ele_component = ele.component;
						//水平情况
						if (left) {
							let baseLeft = Number(type ? left : (ele.left + left).toFixed(2));
							if (postion === 'right') {
								baseLeft = baseLeft - ele_component.width
							} else if (postion === 'center') {
								const obj_center = ele.left + ele_component.width / 2;
								baseLeft = ele.left + (left - obj_center)
							}
							this.$set(this.list[index], 'left', baseLeft);
							this.$refs['item_' + index][0].setLeft(baseLeft)
						}
						//垂直情况
						if (top) {
							let baseTop = Number(type ? top : (ele.top + top).toFixed(2));
							if (postion === 'bottom') {
								baseTop = baseTop - ele_component.height
							} else if (postion === 'middle') {
								const obj_middle = ele.top + ele_component.height / 2;
								baseTop = ele.top + (top - obj_middle)
							}
							this.$set(this.list[index], 'top', baseTop)
							this.$refs['item_' + index][0].setTop(baseTop)
						}
					})
					this.handleCalcPostionSelect();
					this.handleAlign()
				},
				handleGetSelectList() {
					this.selectList = [];
					this.list.forEach((ele, index) => {
						const left = ele.left;
						const top = ele.top;
						const width = ele.component.width;
						const height = ele.component.height;
						if ((!ele.destruction && !ele.display)) {
							if ((left >= this.selectCount.x1 && left <= this.selectCount.x2) && (top >= this
									.selectCount.y1 && top <=
									this.selectCount.y2)) {
								this.selectList.push(index)
							}
						}
					})
					this.handleCalcPostionSelect();
					if (!this.validatenull(this.selectList)) {
						this.selectList.forEach(index => {
							this.$refs['item_' + index][0].setActive(true)
						})
						this.selectObj.flag = true;
					}

				},
				//计算多选状态下的最大边界值
				handleCalcPostionSelect() {
					this.selectCount.maxx1 = 99999;
					this.selectCount.maxy1 = 99999;
					this.selectList.forEach(index => {
						const ele = this.list[index];
						const left = ele.left;
						const top = ele.top;
						const width = ele.component.width;
						const height = ele.component.height;
						if (this.selectCount.maxx1 > left) {
							this.selectCount.maxx1 = left;
						}
						if (this.selectCount.maxx2 < left + width) {
							this.selectCount.maxx2 = left + width;
						}
						if (this.selectCount.maxy1 > top) {
							this.selectCount.maxy1 = top;
						}
						if (this.selectCount.maxy2 < top + height) {
							this.selectCount.maxy2 = top + height;
						}
					})
				},
				handleDeleteSelect() {
					this.selectList.forEach(index => {
						this.$set(this.list[index], 'destruction', true)
					})
					this.selectList = [];
					this.selectObj.flag = false;
				},
				handleExectSelect() {
					this.selectList.forEach(index => {
						this.$refs['item_' + index][0].setActive(false)
					})
					this.selectList = [];
					this.selectObj.flag = false;
				},
				handleGetQuery(item) {
					return Object.assign(this.deepClone(this.config.query), item.dataQuery)
				},
				handleFormatter() {
					try {
						this.activeObj.formatter = eval(this.activeObj.formatter);
						this.activeObj.clickFormatter = eval(this.activeObj.clickFormatter);
						this.activeObj.labelFormatter = eval(this.activeObj.labelFormatter);
						this.$message.success('刷新成功')
					} catch (error) {
						this.$message.error('检测参数错误，检查控制台')
						this.$Log.danger(error)
					}
				},
				handleConClick({
					type,
					child,
					value
				}) {
					if (type === 'tabs') {
						const indexList = child.index;
						indexList.forEach((index) => {
							const paramName = child.paramName;
							let url = this.list[index].url;
							if (url) {
								this.list[index].url = addUrlParam(url, paramName, value);
								this.$refs['list_' + index][0].updateData();
							}
						})
					}
				},
				handleRefresh() {
					this.activeObj.dataFormatter = eval(this.activeObj.dataFormatter);
					this.$refs['list_' + this.active][0].updateData();
					this.$message.success('刷新成功')
				},
				handleMouseOver(val) {
					this.list.forEach((ele, index) => {
						this.$refs['item_' + index][0].setOverActive(index === val)
					});
				},
				initData() {
					this.list = list;
					this.config = config;
					// this.list.forEach((ele, index) => {
					//   this.$set(this.list, index, Object.assign(ele, {
					//     index,
					//     zIndex: (this.listLen - 1) - index
					//   }));
					// })
				},
				setScale(width) {
					this.$nextTick(() => {
						this.config.scale = ((width || this.contentWidth) / this.config.width) * 100
						this.scale = this.config.scale;
					})
				},
				setResize(type) {
					this.$nextTick(() => {
						if (type === 'width') {
							//重新设置缩放
							this.setScale();
							this.$refs.content.style.width = this.setPx((this.config.scale * this.config
								.width) / 100)
						} else if (type === 'height') {
							//重新设置缩放
							this.setScale();
							this.$refs.content.style.height = this.setPx((this.config.scale * this.config
								.height) / 100)
						} else {
							this.$refs.content.style.width = this.setPx((this.config.scale * this.config
								.width) / 100)
							this.$refs.content.style.height = this.setPx((this.config.scale * this.config
								.height) / 100)
						}
					})

				},
				formatTooltip(val) {
					return parseInt(val);
				},
				handleMouseDown() {
					this.active = -1;
				},
				handleTop(active) {
					this.activeObj.zIndex = this.listLen + 1;
				},
				handleStepTop(active) {
					this.activeObj.zIndex = this.activeObj.zIndex + 1;
					if (this.activeNextObj) this.activeNextObj.zIndex = this.activeNextObj.zIndex - 1;
				},
				handleStepBottom(active) {
					this.activeObj.zIndex = this.activeObj.zIndex - 1;
					if (this.activeBreakObj) this.activeBreakObj.zIndex = this.activeBreakObj.zIndex + 1
				},
				handleBottom(active) {
					this.list[active].zIndex = -1;
				},
				handleMapSelect(value) {
					this.activeOption.mapList = this.dicOption.mapList[value].list;
				},
				registerMap(selectProvince, prop) {
					EchartsMap.registerMap(selectProvince.name, (data) => {
						if (prop === "map") {
							this.activeOption.mapList = data;
						}
					});
				},
				handleContextMenu(e) {
					this.$nextTick(() => {
						if (this.active === -1) {
							this.contentMenu = false;
						} else {
							this.contentMenuX = e.clientX;
							this.contentMenuY = e.clientY;
							this.contentMenu = true;
						}
					})
				},
				handleChange(index, zindex) {
					this.active = index;
					this.zIndex = zindex;
					this.contentMenu = false;
				},
				handleFocus() {
					//清除表单校验
					this.clearValidate();
					this.gradeFlag = true;
					this.configFlag = true
				},
				handleBlur() {
					this.gradeFlag = false;
				},
				//  对齐事件
				handleAlign() {
					if (this.active == -1) {
						return
					}
					let activeTop = this.list[this.active].top
					let activeLeft = this.list[this.active].left
					let flag = false
					for (let index = 0; index < this.list.length; index++) {
						let item = this.list[index];
						if (Math.abs(item.top - activeTop) < 2 && item.left !== activeLeft) {
							flag = true
							this.highline = true
							break;
						}
						if (Math.abs(item.left - activeLeft) < 2 && item.top !== activeTop) {
							flag = true
							this.highline = true
							break;
						}
					}
					if (!flag) {
						this.highline = false
					}

				},
				//键盘事件
				handleKeyboardEvent(e) {
					const preventDefault = () => {
						e.preventDefault()
						window.event ? window.event.cancelBubble = true : e.stopPropagation()
					}
					const rightWidth = this.config.width - this.activeComponent.width
					const bottomHeight = this.config.height - this.activeComponent.height
					if (this.activeObj != undefined) {
						switch (e.keyCode) {
							case 37:
								if (this.activeObj.left < 0) {
									this.activeObj.left = 0
								}
								this.activeObj.left -= 10
								preventDefault()
								this.handleAlign()
								break;
							case 38:
								if (this.activeObj.top < 0) {
									this.activeObj.top = 0
								}
								this.activeObj.top -= 10
								preventDefault()
								this.handleAlign()
								break;
							case 39:
								if (this.activeObj.left > rightWidth) {
									this.activeObj.left = rightWidth
								}
								this.activeObj.left += 10
								preventDefault()
								this.handleAlign()
								break;
							case 40:
								if (this.activeObj.top > bottomHeight) {
									this.activeObj.top = bottomHeight
								}
								this.activeObj.top += 10
								preventDefault()
								this.handleAlign()
								break;
						}
						preventDefault()
						return false
					}
				},
				handleKeyboardDel(e, active, index) {
					if (e.keyCode === 46) { //只能按del删除
						const obj = this.activeObj
						if (obj.name) {
							this.$confirm("是否删除" + obj.name + "图层?", '提示', {
								confirmButtonText: '确定',
								cancelButtonText: '取消',
								type: 'warning'
							}).then(() => {
								this.list.splice(this.active, 1)
							}).catch(() => {

							});
						}
					}
				},
				handleDel(index, zIndex) {
					const obj = this.list[index]
					this.$confirm("是否删除" + obj.name + "图层?", '提示', {
						confirmButtonText: '确定',
						cancelButtonText: '取消',
						type: 'warning'
					}).then(() => {
						this.active = -1;
						this.$set(this.list[index], 'destruction', true)
					}).catch(() => {

					});
				},
				handleCopy(index, zIndex) {
					const obj = this.list[index]
					this.addCompoment(obj);
				},
				handleResize({
					index,
					width,
					height
				}) {
					const ele = this.list[index].component;
					this.$set(ele, 'width', width)
					this.$set(ele, 'height', height)

				},
				handlePostion({
					index,
					left,
					top
				}) {
					const ele = this.list[index];
					this.$set(ele, 'left', left)
					this.$set(ele, 'top', top)
				},
				rowSave(row, done) {
					if (this.activeComponent.name === 'table') {
						this.activeOption.column.push(row);
					} else if (this.dicOption.colorList.includes(this.activeComponent.name)) {
						this.activeOption.barColor.push(row);

					}
					done()
				},
				rowDel(row, index) {
					if (this.activeComponent.name === 'table') {
						this.activeOption.column.splice(index, 1);
					} else if (this.dicOption.colorList.includes(this.activeComponent.name)) {
						this.activeOption.barColor.splice(index, 1);

					}
				},
				rowUpdate(row, index, done) {
					if (this.activeComponent.name === 'table') {
						this.activeOption.column.splice(index, 1, row);
					} else if (this.dicOption.colorList.includes(this.activeComponent.name)) {
						this.activeOption.barColor.splice(index, 1, row);

					}
					done()
				},
				addCompoment(option) {
					//清除表单校验
					this.$refs.saveForm.clearValidate();
					const obj = this.deepClone(option);
					obj.left = 0;
					obj.top = 0;
					obj.zIndex = this.listLen;
					obj.index = this.listLen;
					this.list.push(obj);
				},
				handleView() {
					this.menuFlag = false;
					this.active = -1;
					this.setScale(document.body.clientWidth);
				},
				handleReset() {
					this.menuFlag = true;
					this.setScale(this.contentWidth);
				},
				handleBuild() {
					const loading = this.$loading({
						lock: true,
						text: '正在加载中，请稍后',
						spinner: 'el-icon-loading',
						background: 'rgba(0, 0, 0, 0.7)'
					});
					this.$nextTick(() => {
						setTimeout(() => {
							this.dataVisible = true;
							loading.close()
						}, 500)
					})
				},
				handleOpenImg(item) {
					this.imgObj = item
					this.imgVisible = true;
				},
				handleSetimg(val) {
					if (this.imgObj === 'activeObj.data') {
						this.activeObj.data = "." + val;
					} else if (this.imgObj === 'activeOption.backgroundImage') {
						this.activeOption.backgroundImage = "." + val;
					} else if (this.imgObj === 'activeOption.backgroundBorder') {
						this.activeOption.backgroundBorder = val;
					} else if (this.imgObj === 'activeOption.empBackgroundBorder') {
						this.activeOption.empBackgroundBorder = val;
					} else if (this.imgObj === 'config.backgroundImage') {
						this.config.backgroundImage = val;
					} else if (this.imgObj === "activeOption.empBackgroundImage") {
						this.activeOption.empBackgroundImage = "." + val;
					}
					this.imgVisible = false;
				}
			},
			destroyed() {
				//移除键盘事件
				window.removeEventListener('keydown', this.handleKeyboardDel)
				window.removeEventListener('keyup', this.handleKeyboardEvent)
				this.$emit("blur")
				this.selectObj.show = false
			},
		})
	</script>

</html>
